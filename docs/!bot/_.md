https://docs.arbitrum.io/build-decentralized-apps/reference/node-providers
https://www.covalenthq.com/docs/unified-api/pricing/

# token to USD !!
## multicall
https://www.multicall3.com/
https://github.com/mds1/multicall
https://www.multicall3.com/abi#viem
https://book.getfoundry.sh/cast/
https://viem.sh/docs/contract/multicall.html

и getAmountsIn и getAmountsOut - это функции для расчёта объёма свапа. 
отличие в том, что когда вызываешь 
> getAmountsIn(), ты говоришь "сколько мне надо X чтобы получить Y ?" 
> getAmountsOut() - наоборот, "вот у меня есть X монет, сколько монет Y я получу?"

## 

https://ethereum.stackexchange.com/a/155771

This is not as much specifically a function in a smart contract but more like querying any contract function against a specific block. 
**You need an archive node**

https://etherscan.io/address/0x88e6a0c2ddd26feeb64f039a2c41296fcb3f5640

The function that you call to get the USDC-WETH exchange rate is slot0() 
**(remember, the returned data is hex and square root).**

Let's use eth_call to do a simple curl call to slot0() to get the exchange rate from the USDC-WETH pool.

```bash
curl -X POST ARCHIVE_NODE_ENDPOINT \
-H "Content-Type: application/json" \
--data '{
  "jsonrpc":"2.0",
  "method":"eth_call",
  "params":[{
    "to": "CONTRACT_ADDRESS",
    "data":"FUNCTION_SIGNATURE"
  }, "BLOCK_NUMBER"],
  "id":1
}'
```

where
- ARCHIVE_NODE_ENDPOINT — you need an archive node.
- CONTRACT_ADDRESS — An LP contract address. 0x88e6A0c2dDD26FEEb64F039a2c41296FcB3f5640 in our case.
- FUNCTION_SIGNATURE — convert slot0 to the function signature. For example, use an online tool, paste slot0 in Function name and parameters type and get 0x3850c7bd.
- BLOCK_NUMBER — block number in hex or just latest.

pool-price 